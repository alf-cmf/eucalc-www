<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>Global Calculator | Lever ... </title>


<link rel="stylesheet" href="levers/css/levers.css" type="text/css" />

<script type="text/javascript" src="js/jquery.min.js"></script>

<script src="./js/highcharts.js"></script>
<script src="./js/highcharts-more.js"></script>
<script src="./js/modules/exporting.js"></script>

<script type="text/javascript" src="js-v23/gc-setup.js"></script>
<script type="text/javascript" src="js-v23/gc-lever-charts.js"></script>
<script type="text/javascript" src="js-v23/gc-lever-setup.js"></script>

<script type="text/javascript" src="js-v23/gc-translation-tables-mandarin-1.js" charset="utf-8"></script>
<script type="text/javascript" src="js-v23/gc-translation-tables-muliple-1.js" charset="utf-8"></script>
<script type="text/javascript" src="js-v23/gc-translate.js"></script>


<style type="text/css">

.mybox { width:360px; height:350px }

</style>


<script type='text/javascript'>

  var languageID = "en";

// -----------------------------------------------------
// update all data points in the series at index
// 'seriesIndex' in chart 'chart'
// by the values in 'dataset'
// -----------------------------------------------------
function setDataPoints (chart, seriesIndex, dataset) {
  $.each(chart.series[seriesIndex].data, function (i, point) {
    point.update(dataset[i], false);
  });
}


// -----------------------------------------------------
// global handles to fetched data
// -----------------------------------------------------
var leverDescriptions;
var leverGraphData;

$(document).ready(function() {


  var leverID = getIdFromUrl();
  languageID = getLanguageIDFromUrl();

    $('.translate').each(function(index, element) {
               new_html = translate($(this).html());
               $(this).html(new_html);
    });


  // -----------------------------------------------------
  // assemble dummy param string
  // (result is independent of lever settings)
  // -----------------------------------------------------
  var paramString = "";
  for (var i=0; i<NUM_LEVERS; i++)
    paramString += "1";

  var url = DATA_SERVICE_PLUS_SETUP + paramString;

  // -----------------------------------------------------
  // send params to server and fetch the model output
  // -----------------------------------------------------
  $.getJSON(url, function(data) {

    // -----------------------------------------------------
    // store fetched data globally
    // -----------------------------------------------------
    leverDescriptions = data[0]["one_pager_desc"];
    leverGraphData    = data[0]["lever_graph_data"];

//    alert (leverDescriptions[50]);



    // alert (leverGraphData["g_1pager_passenger_distance_automobilecity"]);


    // -----------------------------------------------------
    // init the one pager for the given lever id
    // -----------------------------------------------------
    init (leverID)

  }); // end $.getJSON()


 });

function getOnePagerDescriptions (leverID) {
  // alert ("getOnePagerDescriptions (" + leverID + ")")
  for ( var i=0; i<leverDescriptions.length; i++) 
    if (leverDescriptions[i][0] == leverID) return leverDescriptions[i];
  return "DESCRIPTION NOT FOUND";
}


function init (leverID) {


    var tts = getOnePagerDescriptions (leverID);

     //  alert (tts);

    if (tts != "DESCRIPTION NOT FOUND") {

       // [id, levername, "Lever controls", "One-pager context", "Things to consider", "1-pager Level 1", "1-pager Level 2", "1-pager Level 3", "1-pager Level 4",   "References", "Extra text"]


  // -------------------------------------------------------------------------------------------------------------------------------------------------
  // ATTENTION: alas we have to  do manual fixing of few bits where mapping with the translation table does not work due to some special characters 
  // in the model output
  // -------------------------------------------------------------------------------------------------------------------------------------------------
   
  var things_to_consider = tts[4];

  if (tts[1] == "Calories consumed") {
    things_to_consider = 
"The land and emissions impact of diet is affected by the type of food consumed as well as the total calories. You can control this using the ‘quantity of meat’ and ‘type of meat’ levers.\r\rPlease note that these figures represent global averages, and that the calories required for each individual will vary according to body mass, gender, age, physical activity and climate. \r\rDifferent countries and institutions have different recommendations around what constitutes a healthy diet.  For example, see:\r• The Harvard School of Public Health’s healthy eating plate http://www.hsph.harvard.edu/nutritionsource/healthy-eating-plate] \r• The World Health Organisation’s recommendations http://whqlibdoc.who.int/trs/WHO_TRS_935_eng.pdf] for details from \r• The India National Institute of Nutrition’s dietary recommendations http://ninindia.org/DietaryguidelinesforIndians-Finaldraft.pdf]\r\rAgricultural land to grow crops and feed animals currently takes up 37% of the world’s land surface, whereas forests represent 31% (FAO, 2014). Increased demand for food could be met either through increases in yields or an expansion of agricultural land. Increases in the production of food from each unit of existing agricultural land (the yield) may be able to increase food supplies enough to supply the additional food required for 8.3 to 10.9 billion people by 2050 without having to convert native ecosystems to agricultural land.\r\rHowever, agricultural land expansion could put pressure on existing forests if this yield increase doesn’t take place. Conversion of forest land to crop land or pasture can release greenhouse gas emissions (carbon stored on the land is oxidised to CO2).  Please therefore bear your choice of calorie consumption in mind when you consider the ‘Food’ and ‘Diet’ levers. To see how your choices affect how land is used in the future, please visit the ‘Resources’ tab in the model and select ‘Land’.";
  }

  else if (tts[1] == "Quantity of meat") {
    things_to_consider = 
"Different countries and institutions have different recommendations around what constitutes a healthy diet.  For example, see:\r• The Harvard School of Public Health’s healthy eating plate http://www.hsph.harvard.edu/nutritionsource/healthy-eating-plate] \r• The World Health Organisation’s recommendation of 90g of meat per person per day http://whqlibdoc.who.int/trs/WHO_TRS_935_eng.pdf] \r• The India National Institute of Nutrition’s dietary recommendations http://ninindia.org/DietaryguidelinesforIndians-Finaldraft.pdf]\r\rMeat production is, on average, associated with significantly higher greenhouse gas emissions than the production of grains, fruit and vegetables per unit of energy output. It also requires more land, as meat production is much less land efficient than growing crops. For example, in 2011 an area the size of a football pitch would typically yield around 25,000 kcal per year of pasture fed beef, 1,450,000 kcal per year of poultry, or 5,410,000 kcal per year of crops (for example, grains). A shift to lower levels of meat consumption could therefore help to reduce the greenhouse gas footprint of our diets, as well as produce surplus land that could be used for other purposes, such as growing bioenergy crops and establishing new forests.\r\rIn 2011 the global average fish consumption was 27 kcal per day per person, representing 1.4% of total non-meat calories. In all cases, it was assumed that fish calories would represent 2.1% of our non-meat calories in 2050, according to market trends.\r\rThis lever controls effective kcal intake per person.  Users wishing to explore the impact of more or less food waste should use the “wastes and residues” lever.  Losses along the supply chain are currently approximately 19% in terms of meat energy content [Lipinski et al., 2013].";
  }

  else if (tts[1] == "Solid or liquid") {
    things_to_consider = 
"There are advantages of using bioenergy in both solid and liquid forms, therefore it is currently not possible to state which is preferential. \r\rSolid biomass can be used in industry for process heat requirements, for example to produce high temperature steam, which is likely to be difficult to decarbonise using other technologies. It can also be used alongside carbon capture and storage (known as BECCS, which stands for biomass energy with carbon capture and storage); this could have the advantage of generating ‘negative emissions’, because the carbon dioxide absorbed from the atmosphere as the energy crops grows would get locked away under the Earth’s surface in this process.\rLiquid biofuels can be used to generate low carbon aviation and shipping fuels, and fuels for heavy goods vehicles. These applications are likely to be hard to decarbonise using other methods, therefore using biomass for this use has significant benefits.\r\rIf you choose a high proportion of liquid biofuels, and your pathway generates a lot of bioenergy, you may also want to choose low levels of transport electrification for the lever \"Electric and hydrogen\" otherwise you may end up with some unused bioenergy crops.";

  }



    if (leverID >=43 && leverID<= 47 || leverID > 51) {
        document.title = translate("The Global Calculator");
        document.getElementById('title').innerHTML = "<h1>" + translate ("Sorry - there is no one pager for this id") + "</h1>";
        document.getElementById('lever-controls').innerHTML = "";
        document.getElementById('context').innerHTML = "";
        document.getElementById('context-header').innerHTML = "";
        document.getElementById('things-to-consider').innerHTML = "";
        document.getElementById('things-to-consider-header').innerHTML = "";
        document.getElementById('level-1').innerHTML  = "";
        document.getElementById('level-1-header').innerHTML = "";
        document.getElementById('level-2').innerHTML =  "";
        document.getElementById('level-2-header').innerHTML = "";
        document.getElementById('level-3').innerHTML = "";
        document.getElementById('level-3-header').innerHTML = "";
        document.getElementById('level-4').innerHTML = "";
        document.getElementById('level-4-header').innerHTML = "";
        document.getElementById('references').innerHTML ="";
        document.getElementById('references-header').innerHTML ="";

        document.getElementById('main-graph').innerHTML ="";

        var tbl = document.getElementById('main-lever-graph-table'); // table reference
        var lastRow = tbl.rows.length - 1;             // set the last row index
        for (var i = lastRow; i >= 0; i--) {
           tbl.deleteRow(i);
        }
        deleteRows();
    }
    // Atmospheric CO2 fraction
    else if (leverID == 50) {

        var info = translate ("Sorry - there is no one pager for lever [[XYZ]]");
        info = info.replace ("[[XYZ]]", "'" + translate("Atmospheric CO2 fraction") + "'");

        document.title = translate("The Global Calculator") + " | " + translate("Lever") + " " + translate(tts[1]);
        // document.getElementById('title').innerHTML = "<h1>" + translate("Sorry - there is no one pager for lever") + " '" +  " " + translate(tts[1]) + "'</h1>";
        document.getElementById('title').innerHTML = "<h1>" + info + "</h1>";                
        document.getElementById('lever-controls').innerHTML = "";
        document.getElementById('context').innerHTML = "";
        document.getElementById('context-header').innerHTML = "";
        document.getElementById('things-to-consider').innerHTML = "";
        document.getElementById('things-to-consider-header').innerHTML = "";
        document.getElementById('level-1').innerHTML  = "";
        document.getElementById('level-1-header').innerHTML = "";
        document.getElementById('level-2').innerHTML =  "";
        document.getElementById('level-2-header').innerHTML = "";
        document.getElementById('level-3').innerHTML = "";
        document.getElementById('level-3-header').innerHTML = "";
        document.getElementById('level-4').innerHTML = "";
        document.getElementById('level-4-header').innerHTML = "";
        document.getElementById('references').innerHTML ="";
        document.getElementById('references-header').innerHTML ="";

        document.getElementById('main-graph').innerHTML ="";

        var tbl = document.getElementById('main-lever-graph-table'); // table reference
        var lastRow = tbl.rows.length - 1;             // set the last row index
        for (var i = lastRow; i >= 0; i--) {
           tbl.deleteRow(i);
        }
        deleteRows();
    }
    // Confidence in climate models
    else if (leverID == 51) {
        document.title = translate("The Global Calculator") + " | " + translate("Lever") + " " + translate(tts[1]);
        document.getElementById('title').innerHTML = "<h1>" + translate(tts[1]) + "</h1>";
        document.getElementById('lever-controls').innerHTML = translate(tts[2]);
        document.getElementById('context').innerHTML = "";
        document.getElementById('context-header').innerHTML = "";
        document.getElementById('things-to-consider').innerHTML = "";
        document.getElementById('things-to-consider-header').innerHTML = "";
        document.getElementById('level-1').innerHTML = translate(tts[5]);
        document.getElementById('level-2').innerHTML = translate(tts[6]);
        document.getElementById('level-3').innerHTML = "";
        document.getElementById('level-3-header').innerHTML = "";
        document.getElementById('level-4').innerHTML = "";
        document.getElementById('level-4-header').innerHTML = "";
        document.getElementById('references').innerHTML ="";
        document.getElementById('references-header').innerHTML ="";

        document.getElementById('main-graph').innerHTML ="";

        var tbl = document.getElementById('main-lever-graph-table'); // table reference
        var lastRow = tbl.rows.length - 1;             // set the last row index
        for (var i = lastRow; i >= 0; i--) {
           tbl.deleteRow(i);
        }
        deleteRows();
    }


    else {
        document.title = translate("The Global Calculator") + " | " + translate("Lever") + " " + translate(tts[1]);
        document.getElementById('title').innerHTML = "<h1>" + translate(tts[1]) + "</h1>";
        document.getElementById('lever-controls').innerHTML = translate(tts[2]);
        if (tts[3] != null) document.getElementById('context').innerHTML = translate(tts[3]).replace(/\r/g, "<br>"); 
        document.getElementById('things-to-consider').innerHTML = translate(things_to_consider).replace(/\r/g, "<br>"); 
        document.getElementById('level-1').innerHTML = translate(tts[5]);
        document.getElementById('level-2').innerHTML = translate(tts[6]);
        document.getElementById('level-3').innerHTML = translate(tts[7]);
        document.getElementById('level-4').innerHTML = translate(tts[8]);
        if (tts[9] != null) document.getElementById('references').innerHTML = translate(tts[9]).replace(/\r/g, "<br>"); 
        else {
          document.getElementById('references').innerHTML ="";
          document.getElementById('references-header').innerHTML ="";
       }
       createGraphs(leverID);
    }
  }
}
/*
function getIdFromUrl () {

  try {
    var href= window.location.href.split("?id=");
    if (href[1] == null) return "1";
    var id  = href[1];
    return id;
  }
  catch (e) { return "1"; }
}
*/

function getIdFromUrl () {

  try {
    var href= window.location.href.split("?id=");
    if (href[1] == null) return "en";
    var ps  = href[1];
    var id 		= ps.split("/")[0];

    return id;
  }
  catch (e) { return "1"; }
}


function getLanguageIDFromUrl () {

  try {

    var href= window.location.href.split("?id=");
    if (href[1] == null) return "en";

    var ps  = href[1];
    var id 		= ps.split("/")[0];
    var languageID 	= ps.split("/")[1];

    // alert (href);
    // alert (href[0]);
    // alert ("ps: " + ps);
    // alert ("id: " + id);
    // alert ("languageID: " + languageID);
    // alert ("isValidLanguageID: " + isValidLanguageID (languageID));

    if (isValidLanguageID (languageID)) return languageID;
    else                        	return "en";
  }
  catch (e) {
    // alert ("oops" + e);
    return "en";
  }
}



///////////////////////////////////////////////////////////////

function createContainer (divIDs) {
  deleteRows();
  appendRow(divIDs);
  if (divIDs.length > 2)
    for (var i=0; i<divIDs.length; i++)
      document.getElementById(divIDs[i]).setAttribute("style", "width: 350px; height:350px");
  else if (divIDs.length == 2)
    for (var i=0; i<divIDs.length; i++)
      document.getElementById(divIDs[i]).setAttribute("style", "width: 500px; height:400px");
  else
    document.getElementById(divIDs[0]).setAttribute("style", "width: 700px; height:400px");

}
function appendRow(divIDs) {
  var tbl = document.getElementById('lever-graph-table'); // table reference
  var row = tbl.insertRow(tbl.rows.length);      	     // append table row
  for (var i = 0; i < divIDs.length; i++) {
    createDivCell(row.insertCell(i), divIDs[i]);
  }
}
function createDivCell(cell, divID) {
  var div = document.createElement('div'); // create DIV element
  div.setAttribute("id", divID);
  div.setAttribute ("class", 	 "mybox");
  div.setAttribute ("className", "mybox");

  var txt = document.createTextNode(divID); // create text node
  div.appendChild(txt);                    // append text node to the DIV
  cell.appendChild(div);                   // append DIV to the table cell
}
// delete all table rows
function deleteRows() {
  var tbl = document.getElementById('lever-graph-table'); // table reference
  var lastRow = tbl.rows.length - 1;             // set the last row index
  for (var i = lastRow; i >= 0; i--) {
    tbl.deleteRow(i);
  }
}

///////////////////////////////////////////////////////////////



// ----------------------------------------------------------------------------------------
// NOTE - this needs to be adjusted whenever lever ids change during development time !
// ----------------------------------------------------------------------------------------
function createGraphs (leverID) {

  // ----------------------------------------------------------------------------------------
  // Global population
  // ----------------------------------------------------------------------------------------
  if (leverID == 1) {


    initLineGraphHistoricPop ('main-graph', 'Global population', 'people', 0, 10050000000, 1000000000, leverGraphData["g_1pager_population"], 1);

    var d = leverGraphData["g_1pager_population"];
    var tdata = [
      [translate("Total population of the world"), roundValue2(d[1][9]  / 1000000000) + " " + translate("billion"), 
                                        roundValue1(d[2][17] / 1000000000) + " " + translate("billion"), 
                                        roundValue1(d[3][17] / 1000000000) + " " + translate("billion"), 
                                        roundValue1(d[4][17] / 1000000000) + " " + translate("billion"), 
                                        translate("This lever only has three levels")]
      ];
    addTableRows (tdata);

    deleteRows();
  }

  // ----------------------------------------------------------------------------------------
  // Urbanisation
  // ----------------------------------------------------------------------------------------
  else if (leverID == 2) {

    initLineGraphHistoricPop ('main-graph', 'Proportion of people living in urban areas (%)', '%', 0, 80, 10, leverGraphData["g_1pager_urbanisation"], 100);

    var d = leverGraphData["g_1pager_urbanisation"];
    var tdata = [
      [translate("% of people living in urban areas"), roundValue0(d[1][9]*100), 
       roundValue0(d[2][17]*100), roundValue0(d[3][17]*100), roundValue0(d[4][17]*100), translate("This lever only has three levels")]
    ];
    addTableRows (tdata);

    deleteRows();

  }

  // ----------------------------------------------------------------------------------------
  // Passenger distance
  // ----------------------------------------------------------------------------------------
  else if (leverID == 3) {

    initLineGraph ('main-graph', 'Average urban passenger distance', 'km per person per year', 0, 15000, 2500, leverGraphData["g_1pager_passenger_distance_urban_average"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("Average urban passenger distance per person (km/year)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_passenger_distance_urban_average"],1, 0);
    tdata[1] = getDataRow ("Average rural passenger distance per person (km/year)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_passenger_distance_rural_average"],1, 0);
    tdata[2] = getDataRow ("International – average global passenger distance by flight or long-distance train (km/year)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_passenger_distance_international_average"],1, 0);
    addTableRows (tdata);


    deleteRows();
    appendRow(['container_1','container_2', '']);
    appendRow(['container_3', 'container_4','container_5']);
    initLineGraph ('container_1', 'Average rural passenger distance', 'km per person per year', 0, 15000, 2500, leverGraphData["g_1pager_passenger_distance_rural_average"], 1);
    initLineGraph ('container_2', 'International - average global passenger distance by flight or long-distance train',    'km per person per year', 0, 3000, 250, leverGraphData["g_1pager_passenger_distance_international_average"], 1);
    initLineGraph ('container_3', 'Passenger distance - Automobile city', 'km per person per year', 0, 15000, 2500, leverGraphData["g_1pager_passenger_distance_automobilecity"], 1);
    initLineGraph ('container_4', 'Passenger distance - Transit city',    'km per person per year', 0, 15000, 2500, leverGraphData["g_1pager_passenger_distance_transitcity"], 1);
    initLineGraph ('container_5', 'Passenger distance - Booming city',    'km per person per year', 0, 15000, 2500, leverGraphData["g_1pager_passenger_distance_boomingcity"], 1);



  }
  // ----------------------------------------------------------------------------------------
  // Freight distance
  // ----------------------------------------------------------------------------------------
  else if (leverID == 4) {

    initLineGraph ('main-graph', 'Total freight distance',   'Gigatonne-km per year', 0,    250000,  25000, leverGraphData["g_1pager_freight_distance_total_international_and_domestic"], 1);


    var tdata = [];
    tdata[0] = getDataRow ("Total freight (Gtonne-km per year)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_freight_distance_total_international_and_domestic"], 1, 0);
    tdata[1] = getDataRow ("Average freight per person* (tonne-km per year)", 
     [2,2,3,4,5], [9,10,10,10,10], leverGraphData["g_1pager_freight_distance_tonne_per_person"],1, 0);

    addTableRows (tdata);
    document.getElementById('table-footnote').innerHTML = translate("*Based on level 2 population assumption");

    createContainer(['container_1','container_2']);
    initLineGraph ('container_1', 'Domestic freight distance', 	   'Gigatonne-km per year', 0,    50000,  5000, leverGraphData["g_1pager_freight_distance_domestic"], 1);
    initLineGraph ('container_2', 'International freight distance', 'Gigatonne-km per year', 0,   200000, 25000, leverGraphData["g_1pager_freight_distance_international"], 1);

  }
  // ----------------------------------------------------------------------------------------
  // Mode
  // ----------------------------------------------------------------------------------------
  else if (leverID == 5) {

    initLineGraph1 ('main-graph', 'Proportion of domestic urban distance that is travelled by car',   '% of km', 0, 70, 10, 
                    leverGraphData["webtool_1pager_passenger_percent_distance_travelled_urban"], 100);


    var tdata = [];
    tdata[0] = getDataRow ("Urban - % of domestic km travelled by car", 
     [1,1,2,3,4], [9,17,17,17,17], leverGraphData["webtool_1pager_passenger_percent_distance_travelled_urban"],100, 0);
    tdata[1] = getDataRow ("Rural - % of domestic km travelled by car", 
     [1,1,2,3,4], [9,17,17,17,17], leverGraphData["webtool_1pager_passenger_percent_distance_travelled_rural"],100, 0);
    tdata[2] = getDataRow ("International - % of km moved from planes to other modes of international travel", 
     [1,1,2,3,4], [9,17,17,17,17], leverGraphData["webtool_1pager_passenger_percent_distance_travelled_nonplane"],100, 0);

    addTableRows (tdata);


    createContainer(['container_1','container_2']);
    initLineGraph1 ('container_1', 'Proportion of domestic rural distance that is travelled by car', '% of km', 0, 70, 10, 
                    leverGraphData["webtool_1pager_passenger_percent_distance_travelled_rural"], 100);
    initLineGraph1 ('container_2', 'Proportion of distance switched from planes to other international transport',  '% of km switched from plane travel', 0, 70, 10, 
                    leverGraphData["webtool_1pager_passenger_percent_distance_travelled_nonplane"], 100);
  }
  // ----------------------------------------------------------------------------------------
  // Occupancy & freight load
  // ----------------------------------------------------------------------------------------
  else if (leverID == 6) {

    initLineGraph ('main-graph', 'Average urban car occupancy (passengers per vehicle)', 'passengers per vehicle',      0, 2.5, 0.25, leverGraphData["g_1pager_occupancies_urbanpassengercar"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("Average urban car occupancy (passengers per vehicle)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_occupancies_urbanpassengercar"],1, 1);
    tdata[1] = getDataRow ("Average rural car occupancy (passengers per vehicle)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_occupancies_ruralpassengercar"],1, 1);
    tdata[2] = getDataRow ("Average freight load factor- Domestic light truck (tonne per vehicle)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_loadfactor_freight_domestic_light_truck"],1, 2);
    addTableRows (tdata);


    createContainer(['container_1','container_2', 'container_3']);
    initLineGraph ('container_1', 'Average rural car occupancy (passengers per vehicle)', 'passengers per vehicle',      0, 2.5, 0.25, leverGraphData["g_1pager_occupancies_ruralpassengercar"], 1);
    initLineGraph ('container_2', 'Load factor for freight - domestic light truck', 'tonnes per vehicle', 0, 0.35, 0.05, leverGraphData["g_1pager_loadfactor_freight_domestic_light_truck"], 1);
    initLineGraph ('container_3', 'Load factor for freight - international ship', 'tonnes per vehicle',   0, 25000, 2500, leverGraphData["g_1pager_loadfactor_freight_international_ship"], 1);
  }
  // ----------------------------------------------------------------------------------------
  // Car own or hire 
  // ----------------------------------------------------------------------------------------
  else if (leverID == 7) {

    initLineGraph ('main-graph', 'Distance travelled by the average urban car', 'km per vehicle per year',      0, 55000, 5000, 
                   leverGraphData["g_1pager_transport_ownership_km_per_average_car_ice"], 1);


    var d1 = leverGraphData["g_1pager_transport_ownership_km_per_average_car_ice"];
    var d2 = leverGraphData["g_1pager_transport_ownership_all"];
    var d3 = leverGraphData["g_1pager_transport_ownership_km_per_average_car_ice_rural"];

    var tdata = [
      [translate("Distance travelled by urban average car with internal combustion engine (km/year)"), 
       roundValue0(d1[2][9]), roundValue0(d1[2][17]), roundValue0(d1[3][17]), roundValue0(d1[4][17]), roundValue0(d1[5][17])],
      [translate("% increase in urban distance per car (from 2011 levels)"), 
       translate('baseline'), roundValue0( (d2[2][6]-1)*100), roundValue0( (d2[3][6]-1)*100), roundValue0( (d2[4][6]-1)*100), roundValue0( (d2[5][6]-1))*100],
      [translate("Distance travelled by rural average car with internal combustion engine (km/year)"), 
       roundValue0(d3[2][9]), roundValue0(d3[2][17]), roundValue0(d3[3][17]), roundValue0(d3[4][17]), roundValue0(d3[5][17])],
      [translate("% increase in rural distance per car (from 2011 levels)"), 
       translate('baseline'), roundValue0( (d2[2][12]-1)*100), roundValue0( (d2[3][12]-1)*100), roundValue0( (d2[4][12]-1)*100), roundValue0( (d2[5][12]-1))*100]
    ];
    addTableRows (tdata);



    createContainer(['container_1']);
    initLineGraph ('container_1', 'Distance travelled by the average rural car', 'km per vehicle per year',      0, 30000, 2500, 
                   leverGraphData["g_1pager_transport_ownership_km_per_average_car_ice_rural"], 1);
  }

  // ----------------------------------------------------------------------------------------
  // Transport Efficiency
  // ----------------------------------------------------------------------------------------
  else if (leverID == 8) {

    initLineGraph ('main-graph', 'Vehicle efficiency - Global urban car with internal combustion engine',   
                   'average fuel usage (litres/100km)', 0, 10,  1, leverGraphData["g_1pager_passenger_efficiencies_car_ice"], 1);

/*
    x["g_1pager_freight_efficiency_domestic_light_truck_ice_liquid"] 	= r("g_1pager_freight_efficiency_domestic_light_truck_ice_liquid");
    x["g_1pager_freight_efficiency_international_plane"]		= r("g_1pager_freight_efficiency_international_plane");
    x["g_1pager_passenger_efficiencies_car_ice"]			= r("g_1pager_passenger_efficiencies_car_ice");
    x["g_1pager_passenger_efficiencies_car_electric"]			= r("g_1pager_passenger_efficiencies_car_electric");
*/

    var tdata = [];
    tdata[0] = getDataRow ("Efficiency for passenger car with internal combustion engine  (lge per 100-km)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_passenger_efficiencies_car_ice"],1, 1);
    tdata[1] = getDataRow ("Efficiency for car with electric engine (lge per 100-km)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_passenger_efficiencies_car_electric"],1, 1);
    tdata[2] = getDataRow ("Freight efficiency -domestic light truck (lge per 100-km)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_freight_efficiency_domestic_light_truck_ice_liquid"],1, 1);
    tdata[3] = getDataRow ("Freight efficiency – international plane (lge per 100-km)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_freight_efficiency_international_plane"],1, 0);

    addTableRows (tdata);

    document.getElementById('table-footnote').innerHTML = translate("Note: all efficiency figures are given in lge (litres of gasoline equivalent) per 100-km");

    createContainer(['container_1', 'container_2']);
    initLineGraph ('container_1', 'Freight vehicle efficiency - international plane', 
                  'average fuel usage (litres/100km)', 0, 1200, 100, leverGraphData["g_1pager_freight_efficiency_international_plane"], 1);
    initLineGraph ('container_2', 'Freight vehicle efficiency - average freight truck', 
                  'average fuel usage (litres/100km)', 0, 10, 1, leverGraphData["g_1pager_freight_efficiency_domestic_light_truck_ice_liquid"], 1);
  }
  // ----------------------------------------------------------------------------------------
  // Electric and hydrogen
  // ----------------------------------------------------------------------------------------
  else if (leverID == 9) {

    initStackedColumnChart ('main-graph', 'Urban cars: % of each type',
                            '%', 0, 100, 10, leverGraphData["g_1pager_tech_shares_urban_passenger_car"], 100);

/*
    x["g_1pager_tech_shares_urban_passenger_bus"] 		= r("g_1pager_tech_shares_urban_passenger_bus");
    x["g_1pager_tech_shares_urban_passenger_car"] 		= r("g_1pager_tech_shares_urban_passenger_car");
    x["g_1pager_tech_shares_urban_passenger_plane_longhaul"] 	= r("g_1pager_tech_shares_urban_passenger_plane_longhaul");
    x["g_1pager_tech_shares_urban_passenger_train"] 		= r("g_1pager_tech_shares_urban_passenger_train");
    x["g_1pager_car_passenger_urban_total_h2_and_electric"]	= r("g_1pager_car_passenger_urban_total_h2_and_electric");
    x["g_1pager_tech_shares_urban_passenger_train"]		= r("g_1pager_tech_shares_urban_passenger_train");
    x["g_1pager_tech_shares_urban_light_freight_lowcarbon"]	= r("g_1pager_tech_shares_urban_light_freight_lowcarbon");
*/


    var tdata = [];
    tdata[0] = getDataRow ("% urban passenger cars that are either hydrogen or electric", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_car_passenger_urban_total_h2_and_electric"],100, 0);
    tdata[1] = getDataRow ("% urban passenger trains that are powered by electricity", 
     [1,2,3,4,5], [2,2,2,2,2], leverGraphData["g_1pager_tech_shares_urban_passenger_train"],100, 0);
    tdata[2] = getDataRow ("% light freight vehicles with zero emissions (electric and hydrogen)", 
     [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_tech_shares_urban_light_freight_lowcarbon"],100, 0);
    tdata[3] = getDataRow ("% light freight vehicles with zero emissions (e.g. hybrid)", 
     [1,2,3,4,5], [2,2,2,2,2], leverGraphData["g_1pager_tech_shares_urban_light_freight_lowcarbon"],100, 0);

    addTableRows (tdata);



    deleteRows();
    appendRow(['container_1','container_2']);
    appendRow(['container_3']);

    initStackedColumnChart ('container_1', 'Urban buses: % of each type',     
                            '%', 0, 100, 10, leverGraphData["g_1pager_tech_shares_urban_passenger_bus"], 100);
    initStackedColumnChart ('container_2', 'Urban trains % of each type',      
                            '%', 0, 100, 10, leverGraphData["g_1pager_tech_shares_urban_passenger_train"], 100);
    initStackedColumnChart ('container_3', 'Long-haul passenger planes: % of each type', 
                            '%', 0, 100, 10, leverGraphData["g_1pager_tech_shares_urban_passenger_plane_longhaul"], 100);
  }




  // ----------------------------------------------------------------------------------------
  // Building size
  // ----------------------------------------------------------------------------------------
  else if (leverID == 10) {

   initLineGraphForCompareValues ('main-graph', 'Residential urban building size', 
                                  'metres squared', 0, 225, 25, leverGraphData["g_1pager_building_size_urban"]);

/*
    x["g_1pager_building_size_rural"]		= r("g_1pager_building_size_rural");
    x["g_1pager_building_size_urban"]		= r("g_1pager_building_size_urban");
    x["g_1pager_building_size_residential"]	= r("g_1pager_building_size_residential");
*/


    var tdata = [];
    tdata[0] = getDataRow ("Residential urban building (metres squared)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_building_size_urban"],1, 0);
    tdata[1] = getDataRow ("Residential rural building (metres squared)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_building_size_rural"],1, 0);
    tdata[2] = getDataRow ("Non-residential size (metres squared per person)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_building_size_residential"],1, 1);

    addTableRows (tdata);

    document.getElementById('table-footnote').innerHTML = translate("Floor area");


   createContainer(['container_1']);
   initLineGraphForCompareValues ('container_1', 'Residential rural building size', 
                                  'metres squared', 0, 225, 25, leverGraphData["g_1pager_building_size_rural"]);
  }
  // ----------------------------------------------------------------------------------------
  // Temperature & hot water use
  // ----------------------------------------------------------------------------------------
  else if (leverID == 11) {

    initLineGraph ('main-graph', 'Global urban residential cooling season temperature', 
                   'degrees C', 0, 30, 2.5,    leverGraphData["g_1pager_house_temperature_cooling_rural"], 1);


/*
    x["g_1pager_house_temperature_cooling_urban"]	= r("g_1pager_house_temperature_cooling_urban");
    x["g_1pager_house_temperature_heating_urban"]	= r("g_1pager_house_temperature_heating_urban");
    x["g_1pager_house_temperature_cooling_rural"]	= r("g_1pager_house_temperature_cooling_rural");
    x["g_1pager_house_temperature_heating_rural"]	= r("g_1pager_house_temperature_heating_rural");
    x["g_1pager_hotwater_demand_rural"]			= r("g_1pager_hotwater_demand_rural");
    x["g_1pager_hotwater_demand_urban"]			= r("g_1pager_hotwater_demand_urban");
*/


    var tdata = [];
    tdata[0] = getDataRow ("Urban residential heating season temperature (°C)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_house_temperature_heating_urban"],1,1);
    tdata[1] = getDataRow ("Rural residential heating season temperature (°C)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_house_temperature_heating_rural"],1,1);
    tdata[2] = getDataRow ("Urban residential cooling season temperature (degrees C)",   
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_house_temperature_cooling_urban"],1,1);
    tdata[3] = getDataRow ("Rural residential cooling season temperature (degrees C)",   
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_house_temperature_cooling_rural"],1,1);

    tdata[4] = getDataRow ("Urban hot water demand (l/person/year)",   
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_hotwater_demand_urban"],1,0);
    tdata[5] = getDataRow ("Rural hot water demand (l/person/year)",   
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_hotwater_demand_rural"],1,0);
    addTableRows (tdata);


    createContainer(['container_1']);
    initLineGraph ('container_1', 'Global urban residential heating season temperature', 
                   'degrees C', 0, 30, 2.5,    leverGraphData["g_1pager_house_temperature_heating_urban"], 1);

  }
  // ----------------------------------------------------------------------------------------
  // Lighting & appliance use
  // ----------------------------------------------------------------------------------------
  else if (leverID == 12) {

/*
    x["g_1pager_appliances_ownership_urban_refrigerators_owned"]	= r("g_1pager_appliances_ownership_urban_refrigerators_owned");
    x["g_1pager_appliances_ownership_urban"]				= r("g_1pager_appliances_ownership_urban");
    x["g_1pager_lighting_demand_urban"]					= r("g_1pager_lighting_demand_urban");
    x["g_1pager_cooking_demand_urban_kwh_per_hhd"]			= r("g_1pager_cooking_demand_urban_kwh_per_hhd");
    x["g_1pager_lighting_demand_urban"]					= r("g_1pager_lighting_demand_urban");

*/

    initLineGraph ('main-graph', 'Average number of refrigerators per urban household', 
                   'Number of appliances', 0, 1.5, 0.1, leverGraphData["g_1pager_appliances_ownership_urban_refrigerators_owned"], 1);


    var tdata = [];
    tdata[0] = getDataRow ("Average number of refrigerators per urban household", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_appliances_ownership_urban_refrigerators_owned"],1,2);
    tdata[1] = getDataRow ("Cooking demand per urban household per year (kWh)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_cooking_demand_urban_kwh_per_hhd"],1,1);
    tdata[2] = getDataRow ("Average number of light bulbs per urban household",   
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_lighting_demand_urban"],1,0);

    addTableRows (tdata);


    createContainer(['container_1']);
    document.getElementById('container_1').setAttribute("style", "width: 700px; height:400px");
    initStackedColumnChart ('container_1', 'Number of each appliance owned by urban households', 
                            'Number of appliances', 0, 12, 1, leverGraphData["g_1pager_appliances_ownership_urban"], 1);

  }
  // ----------------------------------------------------------------------------------------
  // Building insulation
  // ----------------------------------------------------------------------------------------
  else if (leverID == 13) {

/*
    x["g_1pager_house_insulation_rural"] 	= r("g_1pager_house_insulation_rural");
    x["g_1pager_house_insulation_urban"] 	= r("g_1pager_house_insulation_urban");
    x["g_1pager_house_insulation_non_res"]	= r("g_1pager_house_insulation_non_res");
*/


    initLineGraph ('main-graph', 'Rate of heat loss for urban homes GW/(M ha*℃)', 
                   '(GW / M ha ⁰C)', 0, 20, 2, leverGraphData["g_1pager_house_insulation_urban"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("Rate of heat loss for urban homes GW/(M ha*℃)", // CHECK CHARS
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_house_insulation_urban"],1,0);
    tdata[1] = getDataRow ("Rate of heat loss for rural homes GW/(M ha*℃)", // CHECK CHARS
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_house_insulation_rural"],1,0);
    tdata[2] = getDataRow ("Rate of heat loss for non-residential buildings GW/(M ha*℃)",   // CHECK CHARS
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_house_insulation_non_res"],1,0);

    addTableRows (tdata);


    createContainer(['container_1']);
    initLineGraph ('container_1', 'Rate of heat loss for rural homes GW/(M ha*℃)', 
                   '(GW / M ha ⁰C)', 0, 20, 2, leverGraphData["g_1pager_house_insulation_rural"], 1);
  }
  // ----------------------------------------------------------------------------------------
  // Temperature, cooking & lighting technology
  // ----------------------------------------------------------------------------------------
  else if (leverID == 14) {

/*
    x["g_1pager_heating_technology_urban_percent_solar_or_heatpump"]	= r("g_1pager_heating_technology_urban_percent_solar_or_heatpump");
    x["g_1pager_cooling_technology_urban"]	= r("g_1pager_cooling_technology_urban");
    x["g_1pager_hot_water_technology_urban"]	= r("g_1pager_hot_water_technology_urban");
    x["g_1pager_cooking_technology_urban"]	= r("g_1pager_cooking_technology_urban");
    x["g_1pager_lighting_technology_urban"]	= r("g_1pager_lighting_technology_urban");
    x["g_1pager_heating_technology_urban"]	= r("g_1pager_heating_technology_urban");

*/

	    initLineGraph ('main-graph', '% of urban space heating technologies that are low-carbon (solar and heat pumps)', 
                   '%', 0, 70, 10, leverGraphData["g_1pager_heating_technology_urban_percent_solar_or_heatpump"], 100);


    var tdata = [];
    tdata[0] = getDataRow ("% of space heating using low-carbon technologies (heat pumps and solar)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_heating_technology_urban_percent_solar_or_heatpump"],100,0);
    tdata[1] = getDataRow ("% of space cooling using solar cooling", 
     [1,2,3,4,5], [3,3,3,3,3], leverGraphData["g_1pager_cooling_technology_urban"],100,0);
    tdata[2] = getDataRow ("% of hot water systems using solar hot water", 
     [1,2,3,4,5], [6,6,6,6,6], leverGraphData["g_1pager_hot_water_technology_urban"],100,0);
    tdata[3] = getDataRow ("% of cooking stoves using electricity", 
     [1,2,3,4,5], [4,4,4,4,4], leverGraphData["g_1pager_cooking_technology_urban"],100,0);
    tdata[4] = getDataRow ("% of light bulbs that are LEDs", 
     [1,2,3,4,5], [4,4,4,4,4], leverGraphData["g_1pager_lighting_technology_urban"],100,0);

    addTableRows (tdata);

    document.getElementById('table-footnote').innerHTML = translate("For urban residential buildings");


//    createContainer(['container_1', 'container_2', 'container_3']);

    deleteRows();
    appendRow(['container_1']);
    appendRow(['container_2']);
    appendRow(['container_3']);  

    document.getElementById('container_1').setAttribute("style", "width: 700px; height:400px");
    document.getElementById('container_2').setAttribute("style", "width: 700px; height:400px");
    document.getElementById('container_3').setAttribute("style", "width: 700px; height:400px");


    initStackedColumnChart ('container_1', 'Technologies used for urban heating', 
                            'Contribution from each technology (%)', 0, 100, 10, leverGraphData["g_1pager_heating_technology_urban"], 100);
    initStackedColumnChart ('container_2', 'Technologies used for urban cooling', 
                            'Contribution from each technology (%)', 0, 100, 10, leverGraphData["g_1pager_cooling_technology_urban"], 100);
    initStackedColumnChart ('container_3', 'Technologies used for urban cooking', 
                            'Contribution from each technology (%)', 0, 100, 10, leverGraphData["g_1pager_cooking_technology_urban"], 100);

  }
  // ----------------------------------------------------------------------------------------
  // Appliance efficiency
  // ----------------------------------------------------------------------------------------
  else if (leverID == 15) {

/*

    x["g_1pager_appliances_efficiency_urban_tv"]		= r("g_1pager_appliances_efficiency_urban_tv");
    x["g_1pager_appliances_efficiency_urban_refrigerator"]	= r("g_1pager_appliances_efficiency_urban_refrigerator");

*/

    initLineGraph ('main-graph', 'Power used by average urban TV', 
                   'Watt', 0, 250, 25, leverGraphData["g_1pager_appliances_efficiency_urban_tv"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("Power used by average urban TV (W)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_appliances_efficiency_urban_tv"],1,0);
    tdata[1] = getDataRow ("Power used by average urban  refrigerator (W)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_appliances_efficiency_urban_refrigerator"],1,0);
    addTableRows (tdata);


    createContainer(['container_1']);
    initLineGraph ('container_1', 'Power used by average urban refrigerator', 
                   'Watt', 0, 70, 10, leverGraphData["g_1pager_appliances_efficiency_urban_refrigerator"], 1);
  }

  // ----------------------------------------------------------------------------------------
  // Product lifespan & demand
  // ----------------------------------------------------------------------------------------
  else if (leverID == 16) {

/*
    x["g_1pager_g30_lifespan_urbancarice"]	= r("g_1pager_g30_lifespan_urbancarice");
    x["g_1pager_g30_lifespan_urbantv"]		= r("g_1pager_g30_lifespan_urbantv");
*/

    initLineGraph ('main-graph', 'Global average lifespan of urban 4-wheeled car with internal combustion engine', 
                   'years', 0, 18, 2, leverGraphData["g_1pager_g30_lifespan_urbancarice"], 1);


    var tdata = [];
    tdata[0] = getDataRow ("Lifespan of an average urban car with an internal combustion engine (years)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_g30_lifespan_urbancarice"],1,1);
    tdata[1] = getDataRow ("Lifespan of an average urban car with an internal combustion engine (years)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_g30_lifespan_urbantv"],1,1);
    addTableRows (tdata);


    createContainer(['container_1']);
    initLineGraph ('container_1', 'Global average lifespan of urban TVs', 
                   'years', 0, 18, 2, leverGraphData["g_1pager_g30_lifespan_urbantv"], 1);
  }
  // ----------------------------------------------------------------------------------------
  // Design, material switch & recycling
  // ----------------------------------------------------------------------------------------
  else if (leverID == 17) {

/*
    x["g_1pager_g30_demandperproductdesign"]		= r("g_1pager_g30_demandperproductdesign");
    x["g_1pager_g30_demandperproductrecyclingtotal"]	= r("g_1pager_g30_demandperproductrecyclingtotal");
    x["g_1pager_g30_materialswitchtoaluminium"]		= r("g_1pager_g30_materialswitchtoaluminium");
    x["g_1pager_g30_materialswitchtoplastics"]		= r("g_1pager_g30_materialswitchtoplastics");
    x["g_1pager_g30_materialswitchtotimber"]		= r("g_1pager_g30_materialswitchtotimber");


*/

    // --------------------------------------------------------------------------------------------------------------
    // need to get rid of second title row in data to make compatible with expected structure:
    // --------------------------------------------------------------------------------------------------------------
    var data = [ leverGraphData["g_1pager_g30_demandperproductdesign"][0],
                 leverGraphData["g_1pager_g30_demandperproductdesign"][2],
                 leverGraphData["g_1pager_g30_demandperproductdesign"][3],
                 leverGraphData["g_1pager_g30_demandperproductdesign"][4],
                 leverGraphData["g_1pager_g30_demandperproductdesign"][5],
                 leverGraphData["g_1pager_g30_demandperproductdesign"][6],
               ];

    initColumnChart ('main-graph', 'Global average amount of raw material required to make a given product in 2050, in comparison to 2011. Any shown reductions in 2050, in comparison to 2011, are due to improvements in product and material design.', 
                   '% of 2011 raw material requirement per product', 0, 100, 10, data, 100);



    var tdata = [];
    tdata[0] = getDataRow ("Proportion of products that would have been made from steel in 2011, that are made from timber instead", 
     [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_g30_materialswitchtotimber"],100,1);
    tdata[1] = getDataRow ("Proportion of products that would have been made from steel in 2011, that are made from aluminium instead", 
     [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_g30_materialswitchtoaluminium"],100,1);
    tdata[2] = getDataRow ("Proportion of products that would have been made from steel in 2011, that are made from plastic instead", 
     [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_g30_materialswitchtoplastics"],100,1);
    tdata[3] = getDataRow ("Proportion of products that would have been made from cement in 2011, that are made from timber instead", 
     [1,2,3,4,5], [2,2,2,2,2], leverGraphData["g_1pager_g30_materialswitchtotimber"],100,1);
    tdata[4] = getDataRow ("Proportion of products that would have been made from cement in 2011, that are made from plastic instead", 
     [1,2,3,4,5], [2,2,2,2,2], leverGraphData["g_1pager_g30_materialswitchtoplastics"],100,1);

    addTableRows (tdata);



    // --------------------------------------------------------------------------------------------------------------
    // need to get rid of first two entries in each row of data to make compatible with expected structure:
    // --------------------------------------------------------------------------------------------------------------
    var data1 = [];
    for (var i=0; i<leverGraphData["g_1pager_g30_demandperproductrecyclingtotal"].length; i++)
      data1[i] = leverGraphData["g_1pager_g30_demandperproductrecyclingtotal"][i].slice(2);

    createContainer(['container_1']);
    initColumnChart ('container_1', 'Global average % of products that are made from recycled materials', 
                     '% of total product mass', 0, 80, 10, data1, 100);

  }
  // ----------------------------------------------------------------------------------------
  // Iron, steel & aluminium
  // ----------------------------------------------------------------------------------------
  else if (leverID == 18) {

/*

    x["webtool_1pager_steel_alum_co2intensity"]	= r("webtool_1pager_steel_alum_co2intensity");
    x["g_1pager_g30_steeltechnologies"]		= r("g_1pager_g30_steeltechnologies");
    x["g_1pager_g30_fuel_switches_steel"]	= r("g_1pager_g30_fuel_switches_steel");
    x["g_1pager_g30_energyefficiency"]		= r("g_1pager_g30_energyefficiency");


*/

    // --------------------------------------------------------------------------------------------------------------
    // need to get rid of first entry in each row of data to make compatible with expected structure:
    // --------------------------------------------------------------------------------------------------------------
    var data = [];
    for (var i=0; i<leverGraphData["webtool_1pager_steel_alum_co2intensity"].length; i++)
      data[i] = leverGraphData["webtool_1pager_steel_alum_co2intensity"][i].slice(1);

    initColumnChart2 ('main-graph', 'Global average carbon intensity of different metals (emissions from electricity not accounted for here, to avoid double counting)',
                            'tonne CO2e emissions per tonne of metal', 0, 3, 0.25, data, 1);


    var tdata = [];
    tdata[0] = getDataRow ("Improvements in the energy efficiency of current traditional steel blast furnace production processes (% reduction in energy required to produce 1 tonne steel, compared to 2011)", 
     [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_g30_energyefficiency"],100,0);
    tdata[1] = getDataRow ("Improvements in the energy efficiency of current primary aluminium production processes (% reduction in energy required to produce 1 tonne aluminium, compared to 2011)", 
     [1,2,3,4,5], [6,6,6,6,6], leverGraphData["g_1pager_g30_energyefficiency"],100,0);
    tdata[2] = getDataRow ("Improvements in the energy efficiency of current recycled aluminium production processes (% reduction in energy required to produce 1 tonne aluminium, compared to 2011)", 
     [1,2,3,4,5], [7,7,7,7,7], leverGraphData["g_1pager_g30_energyefficiency"],100,0);

    addTableRows (tdata);


    createContainer(['container_1','container_2']);
    initStackedColumnChart2 ('container_1', 'Split of manufacturing processes used to produce steel', 
        '%', 0, 100, 10, leverGraphData["g_1pager_g30_steeltechnologies"], 100);
    initColumnChart2 ('container_2', 'Switches from coal to less CO2 intensive fuels in metal production processes', 
        'Coal replaced by less CO2 intensive fuel (%)', 0, 15, 1, leverGraphData["g_1pager_g30_fuel_switches_steel"], 100);
//        'Proportion of coal that would be required for the process in 2011 that is replaced by less CO2 intensive fuel (%)'

  }
  // ----------------------------------------------------------------------------------------
  // Chemicals
  // ----------------------------------------------------------------------------------------
  else if (leverID == 19) {

/*
    x["webtool_1pager_chemicals_co2intensity"]	= r("webtool_1pager_chemicals_co2intensity");
    x["g_1pager_g30_fuel_switches_chemicals"]	= r("g_1pager_g30_fuel_switches_chemicals");

*/

    // --------------------------------------------------------------------------------------------------------------
    // need to insert first row for compatability + need to get rid of last row in data (contains null vals)
    // --------------------------------------------------------------------------------------------------------------
    var data = [];
    data[0] = [];
    for (var i=0; i<leverGraphData["webtool_1pager_chemicals_co2intensity"].length-1; i++)
      data[i+1] = leverGraphData["webtool_1pager_chemicals_co2intensity"][i];

    initColumnChart2 ('main-graph', 'Global average carbon intensity of different chemicals (emissions from electricity not accounted for here, to avoid double counting)',
                      'tonne CO2e emissions per tonne of chemical', 0, 3, 0.25, data, 1);


    var tdata = [];
    tdata[0] = getDataRow ("Switch to different HVC production processes, causing a reduction in the energy required to produce HVCs (% reduction in energy required to produce 1 tonne HVC, compared to 2011)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_g30_processimprovementsasee_highvaluechemicals"],100,0);
    tdata[1] = getDataRow ("Improvements in the energy efficiency of current HVC production processes (% reduction in energy required to produce 1 tonne HVC, compared to 2011)", 
     [1,2,3,4,5], [8,8,8,8,8], leverGraphData["g_1pager_g30_energyefficiency"],100,0);
    tdata[2] = getDataRow ("Improvements in the energy efficiency of current ammonia production processes (% reduction in energy required to produce 1 tonne ammonia, compared to 2011)", 
     [1,2,3,4,5], [9,9,9,9,9], leverGraphData["g_1pager_g30_energyefficiency"],100,0);
    tdata[3] = getDataRow ("Improvements in the energy efficiency of current methanol production processes (% reduction in energy required to produce 1 tonne methanol, compared to 2011)", 
     [1,2,3,4,5], [10,10,10,10,10], leverGraphData["g_1pager_g30_energyefficiency"],100,0);

    addTableRows (tdata);


    createContainer(['container_1']);
    initColumnChart2 ('container_1', 'Switches from coal and natural gas to less CO2 intensive fuels in chemical production processes', 
                      'Coal/nat. gas replaced by less CO2 intensive fuel (%)', 0, 30, 5, leverGraphData["g_1pager_g30_fuel_switches_chemicals"], 100);
  // Proportion of coal/natural gas that would be required for the process in 2011 that is replaced by less CO2 intensive fuel (%)
  }
  // ----------------------------------------------------------------------------------------
  // Paper and other
  // ----------------------------------------------------------------------------------------
  else if (leverID == 20) {

/*
    x["webtool_1pager_paper_co2intensity"]	= r("webtool_1pager_paper_co2intensity");
*/
    // --------------------------------------------------------------------------------------------------------------
    // need to get rid of first column for compatibility and of last two rows (null values)
    // --------------------------------------------------------------------------------------------------------------
    var data = [];
    for (var i=0; i<leverGraphData["webtool_1pager_paper_co2intensity"].length-2; i++)
      data[i] = leverGraphData["webtool_1pager_paper_co2intensity"][i].slice(1);

    initColumnChart2 ('main-graph', 'Global average carbon intensity of paper (emissions from electricity not accounted for here, to avoid double counting)',
                      'tonne CO2e emissions per tonne of paper', 0, 1, 0.1, data, 1);

    var tdata = [];
    tdata[0] = getDataRow ("Switch to different virgin paper production processes, causing a reduction in the energy required to produce virgin paper (% reduction in energy required to produce 1 tonne paper, compared to 2011)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_g30_processimprovementsasee_pulp"],100,0);
    tdata[1] = getDataRow ("Improvements in the energy efficiency of current virgin paper production processes (% reduction in energy required to produce 1 tonne paper, compared to 2011)", 
     [1,2,3,4,5], [13,13,13,13,13], leverGraphData["g_1pager_g30_energyefficiency"],100,0);

    tdata[2] = getDataRow ("Improvements in the energy efficiency of current recycled paper production processes (% reduction in energy required to produce 1 tonne paper, compared to 2011)", 
     [1,2,3,4,5], [14,14,14,14,14], leverGraphData["g_1pager_g30_energyefficiency"],100,0);

    addTableRows (tdata);


    deleteRows(); // no additional graphs for second section
  }
  // ----------------------------------------------------------------------------------------
  // Cement
  // ----------------------------------------------------------------------------------------
  else if (leverID == 21) {

/*
    x["webtool_1pager_cement_co2intensity"]	= r("webtool_1pager_cement_co2intensity");

*/

    // --------------------------------------------------------------------------------------------------------------
    // need to get rid of first column for compatibility 
    // --------------------------------------------------------------------------------------------------------------
    var data = [];
    for (var i=0; i<leverGraphData["webtool_1pager_cement_co2intensity"].length; i++)
      data[i] = leverGraphData["webtool_1pager_cement_co2intensity"][i].slice(1);

    initColumnChart2 ('main-graph', 'Global average carbon intensity of cement (emissions from electricity not accounted for here, to avoid double counting).',
                      'tonne CO2e emissions per tonne of cement', 0, 0.45, 0.05, data, 1);

    var tdata = [];
    tdata[0] = getDataRow ("Share of coal (and possibly biomass)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_g30_processimprovementsasee_cement"],100,0);
    tdata[1] = getDataRow ("Improvements in the energy efficiency of current cement production processes (% reduction in energy required to produce 1 tonne cement, compared to 2011)", 
     [1,2,3,4,5], [15,15,15,15,15], leverGraphData["g_1pager_g30_energyefficiency"],100,0);


    addTableRows (tdata);


    document.getElementById('table-footnote').innerHTML = translate("Please note: we recognise that the 2011 emission intensity value for cement is lower than other sources such as the IEA. Total cement emissions include “process emissions” and “combustion emissions”. Our combustions emissions are based on the energy combusted in cement production multiplied by the respective emission factors in the Global Calculator. The emissions intensity may be too low because the emissions factors for fuel combustion in the industry sector are based on a global average emissions factor across all sectors. In reality, the global average across all sectors must be lower than the global average for manufacturing sector. The global calculator uses this simple approach to make the model less complex – one emissions factor for all solid hydrocarbons, rather than emissions  factors for all types of solid fuels for each sub sector.");






    deleteRows(); // no additional graphs for second section
  }

  // ----------------------------------------------------------------------------------------
  // Carbon capture and storage (ind.)
  // ----------------------------------------------------------------------------------------
  else if (leverID == 22) {

/*
    x["g_1pager_ccs_industry_summary"] 		= r("g_1pager_ccs_industry_summary");
*/

    initColumnChart ('main-graph', 'Proportion of industrial CO2 emissions that are captured in 2050', 
        '%', 0, 90, 10, leverGraphData["g_1pager_ccs_industry_summary"], 100);



    var tdata = [];
    tdata[0] = getDataRow ("Global average proportion of emissions from steel production in traditional blast furnaces that are captured", 
     [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_ccs_industry_summary"],100,0);
    tdata[1] = getDataRow ("Global average proportion of emissions from High Value Chemical production processes that are captured", 
     [1,2,3,4,5], [2,2,2,2,2], leverGraphData["g_1pager_ccs_industry_summary"],100,0);
    tdata[2] = getDataRow ("Global average proportion of emissions from pulp production processes that are captured", 
     [1,2,3,4,5], [3,3,3,3,3], leverGraphData["g_1pager_ccs_industry_summary"],100,0);
    tdata[3] = getDataRow ("Global average proportion of emissions from cement production processes that are captured", 
     [1,2,3,4,5], [4,4,4,4,4], leverGraphData["g_1pager_ccs_industry_summary"],100,0);
    tdata[4] = getDataRow ("Global average proportion of emissions from timber production processes that are captured", 
     [1,2,3,4,5], [5,5,5,5,5], leverGraphData["g_1pager_ccs_industry_summary"],100,0);

    addTableRows (tdata);



    deleteRows(); // no additional graphs for second section
  }
  // ----------------------------------------------------------------------------------------
  // Coal (incl. biomass) / oil / gas --> OIL PRICES ALWAYS 0 FOR LEVERS 1-4 !!!
  // ----------------------------------------------------------------------------------------
  else if (leverID == 23) {

    initStackedColumnChart ('main-graph', 'Split of hydrocarbon plants between gas, liquid and solid fuel (%)', 
        '%', 0, 100, 10, leverGraphData["g_1pager_hydrocarbon_proportion_slg"], 100);

/*
    x["g_1pager_hydrocarbon_plants_proportion_solid_fueled"]	= r("g_1pager_hydrocarbon_plants_proportion_solid_fueled");
    x["g_1pager_hydrocarbon_plants_proportion_gas_fueled"]	= r("g_1pager_hydrocarbon_plants_proportion_gas_fueled");
    x["g_1pager_hydrocarbon_plants_proportion_liquid_fueled"]	= r("g_1pager_hydrocarbon_plants_proportion_liquid_fueled");
    x["g_1pager_hydrocarbon_proportion_slg"] 			= r("g_1pager_hydrocarbon_proportion_slg");

*/

    var tdata = [];
    tdata[0] = getDataRow ("Share of coal (and possibly biomass)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_hydrocarbon_plants_proportion_solid_fueled"],100,0);
    tdata[1] = getDataRow ("Share of oil", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_hydrocarbon_plants_proportion_liquid_fueled"],100,0);
    tdata[2] = getDataRow ("Share of natural gas", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_hydrocarbon_plants_proportion_gas_fueled"],100,0);
    addTableRows (tdata);


    deleteRows(); // no additional graphs for second section

  }
  // ----------------------------------------------------------------------------------------
  // Fossil fuel efficiency
  // ----------------------------------------------------------------------------------------
  else if (leverID == 24) {

/*

    x["g_1pager_solid_split_percent_ultra_and_supercritical"]	= r("g_1pager_solid_split_percent_ultra_and_supercritical");
    x["g_1pager_gas_split"]	= r("g_1pager_gas_split");
    x["g_1pager_liquid_split"]	= r("g_1pager_liquid_split");

*/

    initLineGraph ('main-graph', 'Proportion of solid fuel plants that are either ultra-supercritical or supercritical (%)', 
                   '% of solid fuel plants', 0, 100, 10, leverGraphData["g_1pager_solid_split_percent_ultra_and_supercritical"], 100);

    var tdata = [];
    tdata[0] = getDataRow ("% of coal (possibly biomass) fuel plants that are most efficient (either ultra-supercritical or supercritical)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_solid_split_percent_ultra_and_supercritical"],100,0);
    tdata[1] = getDataRow ("% of oil fuel plants that are most efficient", 
     [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_liquid_split"],100,0);
    tdata[2] = getDataRow ("% of natural gas fuel plants that are most efficient (combined-cycle gas turbines)", 
     [1,2,3,4,5], [2,2,2,2,2], leverGraphData["g_1pager_gas_split"],100,0);
    addTableRows (tdata);


    createContainer(['container_1','container_2']);
    initColumnChart ('container_1', 'Proportion of oil fuel plants that are efficient', 
                     '% of liquid fuel plants',  0, 100, 10, leverGraphData["g_1pager_liquid_split"], 100);
    initColumnChart ('container_2', 'Proportion of natural gas fuel plants that are efficient', 
                     '% of gaseous fuel plants', 0, 100, 10, leverGraphData["g_1pager_gas_split"], 100);
  }

  // ----------------------------------------------------------------------------------------
  // Carbon capture and storage (power)
  // ----------------------------------------------------------------------------------------
  else if (leverID == 25) {

/*
    x["g_1pager_capacity_ccs"] 				= r("g_1pager_capacity_ccs");
    x["webtool_1pager_total_energy_produced_ccs_total"]	= r("webtool_1pager_total_energy_produced_ccs_total");
*/


    var tdata = [];
    tdata[0] = getDataRow ("GW of global CCS power capacity (GW)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_capacity_ccs"],1,0);
    tdata[1] = getDataRow ("Global electricity generation from CCS power stations (TWh/y)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["webtool_1pager_total_energy_produced_ccs_total"],1,0);
    addTableRows (tdata);


    initLineGraph ('main-graph', 'Global capacity of CCS Power stations', 
                   'GW', 0, 4000, 250, leverGraphData["g_1pager_capacity_ccs"], 1);


    deleteRows(); // no additional graphs for second section
  }

  // ----------------------------------------------------------------------------------------
  // Nuclear
  // ----------------------------------------------------------------------------------------
  else if (leverID == 26) {

/*

    x["g_1pager_capacity_nuclear"] 			= r("g_1pager_capacity_nuclear");
    x["g_1pager_power_watts_per_capita"]		= r("g_1pager_power_watts_per_capita");
    x["webtool_1pager_total_energy_produced_nuclear"]	= r("webtool_1pager_total_energy_produced_nuclear");

*/

    var tdata = [];
    tdata[0] = getDataRow ("GW of nuclear power capacity", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_capacity_nuclear"],1,0);
    tdata[1] = getDataRow ("W of nuclear power capacity per person*", 
     [1,2,3,4,5], [2,2,2,2,2], leverGraphData["g_1pager_power_watts_per_capita"],1,0);
    tdata[2] = getDataRow ("TWh of nuclear electricity generated annually (net)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["webtool_1pager_total_energy_produced_nuclear"],1,0);
    addTableRows (tdata);
    document.getElementById('table-footnote').innerHTML = translate("*Based on level 2 population assumption");

    initLineGraph ('main-graph', 'Nuclear capacity', 'GW', 0, 2000, 250, leverGraphData["g_1pager_capacity_nuclear"], 1);

    deleteRows(); // no additional graphs for second section

  }
  // ----------------------------------------------------------------------------------------
  // Wind
  // ----------------------------------------------------------------------------------------
  else if (leverID == 27) {

/*
    x["g_1pager_capacity_wind_combined_offshore_and_onshore"]	= r("g_1pager_capacity_wind_combined_offshore_and_onshore");
    x["g_1pager_capacity_offshore_wind"] 			= r("g_1pager_capacity_offshore_wind");
    x["g_1pager_capacity_onshore_wind"] 			= r("g_1pager_capacity_onshore_wind");
    x["webtool_1pager_total_energy_produced_wind_total"]	= r("webtool_1pager_total_energy_produced_wind_total");
*/

   initLineGraph ('main-graph', 'Total wind capacity', 'GW', 0, 6500, 500, leverGraphData["g_1pager_capacity_wind_combined_offshore_and_onshore"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("GW of wind power capacity", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_capacity_wind_combined_offshore_and_onshore"],1,0);
    tdata[1] = getDataRow ("W of wind power capacity per person*", 
     [1,2,3,4,5], [13,13,13,13,13], leverGraphData["g_1pager_power_watts_per_capita"],1,0);
    tdata[2] = getDataRow ("TWh of wind electricity generated annually (net)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["webtool_1pager_total_energy_produced_wind_total"],1,0);
    addTableRows (tdata);
    document.getElementById('table-footnote').innerHTML = translate("*Based on level 2 population assumption");


   createContainer(['container_1','container_2','container_3']);
   initLineGraph ('container_1', 'Onshore wind capacity',  'GW', 0, 5500, 500, leverGraphData["g_1pager_capacity_onshore_wind"],  1);
   initLineGraph ('container_2', 'Offshore wind capacity', 'GW', 0, 5500, 500, leverGraphData["g_1pager_capacity_offshore_wind"], 1);
   initLineGraph ('container_3', 'Total energy produced - wind', 'TWh', 0, 20000, 2000, leverGraphData["webtool_1pager_total_energy_produced_wind_total"], 1);
  }

  // ----------------------------------------------------------------------------------------
  // Hydroelectric
  // ----------------------------------------------------------------------------------------
  else if (leverID == 28) {

   initLineGraph ('main-graph', 'Hydroelectric capacity', 'GW', 0, 2500, 250, leverGraphData["g_1pager_capacity_hydroelectric"], 1);

/*
    x["g_1pager_capacity_hydroelectric"]		 	= r("g_1pager_capacity_hydroelectric");
    x["webtool_1pager_total_energy_produced_hydro"]		= r("webtool_1pager_total_energy_produced_hydro");
*/

    var tdata = [];
    tdata[0] = getDataRow ("GW of hydroelectric power capacity", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_capacity_hydroelectric"],1,0);
    tdata[1] = getDataRow ("W of hydroelectric power capacity per person*", 
     [1,2,3,4,5], [5,5,5,5,5], leverGraphData["g_1pager_power_watts_per_capita"],1,0);
    tdata[2] = getDataRow ("TWh of hydroelectric electricity generated annually (net)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["webtool_1pager_total_energy_produced_hydro"],1,0);
    addTableRows (tdata);
    document.getElementById('table-footnote').innerHTML = translate("*Based on level 2 population assumption");

   createContainer(['container_1']);
   initLineGraph ('container_1', 'Total energy produced - hydroelectric',  
                  'TWh', 0, 9000, 1000, leverGraphData["webtool_1pager_total_energy_produced_hydro"], 1);
  }
  // ----------------------------------------------------------------------------------------
  // Marine
  // ----------------------------------------------------------------------------------------
  else if (leverID == 29) {

/*
    x["g_1pager_capacity_marine_combined_tidal_and_wave"]	= r("g_1pager_capacity_marine_combined_tidal_and_wave");
    x["webtool_1pager_total_energy_produced_total_marine"]	= r("webtool_1pager_total_energy_produced_total_marine");
*/

   initLineGraph ('main-graph', 'Total marine capacity', 'GW', 0, 500, 50, leverGraphData["g_1pager_capacity_marine_combined_tidal_and_wave"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("GW of marine power capacity", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_capacity_marine_combined_tidal_and_wave"],1,1);
    tdata[1] = getDataRow ("W of marine power capacity per person*", 
     [1,2,3,4,5], [12,12,12,12,12], leverGraphData["g_1pager_power_watts_per_capita"],1,1);
    tdata[2] = getDataRow ("TWh of marine electricity generated annually (net)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["webtool_1pager_total_energy_produced_total_marine"],1,0);
    addTableRows (tdata);
    document.getElementById('table-footnote').innerHTML = translate("*Based on level 2 population assumption");

   createContainer(['container_1']);
   initLineGraph ('container_1', 'Total energy produced - total marine',  
                  'TWh', 0, 1200, 100, leverGraphData["webtool_1pager_total_energy_produced_total_marine"], 1);
  }
  // ----------------------------------------------------------------------------------------
  // Solar
  // ----------------------------------------------------------------------------------------
  else if (leverID == 30) {

/*
    x["g_1pager_capacity_solar_combined_pv_and_concentrated"]	= r("g_1pager_capacity_solar_combined_pv_and_concentrated");
    x["webtool_1pager_total_energy_produced_total_solar"]	= r("webtool_1pager_total_energy_produced_total_solar");
*/

   initLineGraph ('main-graph', 'Total solar capacity', 'GW', 0, 24000, 2000, leverGraphData["g_1pager_capacity_solar_combined_pv_and_concentrated"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("GW of total solar power capacity", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_capacity_solar_combined_pv_and_concentrated"],1,0);
    tdata[1] = getDataRow ("W of total solar power capacity per person*", 
     [1,2,3,4,5], [14,14,14,14,14], leverGraphData["g_1pager_power_watts_per_capita"],1,0);
    tdata[2] = getDataRow ("TWh of total solar electricity generated annually (net)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["webtool_1pager_total_energy_produced_total_solar"],1,0);
    addTableRows (tdata);
    document.getElementById('table-footnote').innerHTML = translate("*Based on level 2 population assumption");

   createContainer(['container_1']);
   initLineGraph ('container_1', 'Total energy produced - solar',  
                  'TWh', 0, 55000, 5000, leverGraphData["webtool_1pager_total_energy_produced_total_solar"], 1);

  }
  // ----------------------------------------------------------------------------------------
  // Geothermal
  // ----------------------------------------------------------------------------------------
  else if (leverID == 31) {

/*
    x["g_1pager_capacity_geothermal"] 				= r("g_1pager_capacity_geothermal");
    x["g_1pager_power_watts_per_capita"]		= r("g_1pager_power_watts_per_capita");
    x["webtool_1pager_total_energy_produced_geothermal"]	= r("webtool_1pager_total_energy_produced_geothermal");
*/

   initLineGraph ('main-graph', 'Geothermal capacity', 'GW', 0, 450, 25, leverGraphData["g_1pager_capacity_geothermal"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("GW of electricity storage capacity", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_capacity_geothermal"],1,0);
    tdata[1] = getDataRow ("W of geothermal power capacity per person*", 
     [1,2,3,4,5], [10,10,10,10,10], leverGraphData["g_1pager_power_watts_per_capita"],1,0);
    tdata[2] = getDataRow ("TWh of geothermal electricity generated annually (net)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["webtool_1pager_total_energy_produced_geothermal"],1,0);
    addTableRows (tdata);
    document.getElementById('table-footnote').innerHTML = translate("*Based on level 2 population assumption");


   createContainer(['container_1']);
   initLineGraph ('container_1', 'Total energy produced - geothermal',  
                  'TWh', 0, 3250, 250, leverGraphData["webtool_1pager_total_energy_produced_geothermal"], 1);
  }
  // ----------------------------------------------------------------------------------------
  // Storage and demand shifting
  // ----------------------------------------------------------------------------------------
  else if (leverID == 32) {

/*
    x["g_1pager_capacity_storage"] 	= r ("g_1pager_capacity_storage");
*/

    initLineGraph ('main-graph', 'Storage capacity', 'GW', 0, 1250, 125, leverGraphData["g_1pager_capacity_storage"], 1,0);

    var tdata = [];
    tdata[0] = getDataRow ("GW of electricity storage capacity", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_capacity_storage"],1);
    addTableRows (tdata);

    deleteRows(); // no additional graphs for second section
  }

  // ----------------------------------------------------------------------------------------
  // Calories consumed
  // ----------------------------------------------------------------------------------------
  else if (leverID == 33) {

/*
    x["g_1pager_calories"] 		= r ("g_1pager_calories");
*/

    initLineGraphForCompareValues ('main-graph', 'Global average food consumption per person', 
                   'kcal/person/day', 0, 2800, 200, leverGraphData["g_1pager_calories"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("Global average calories total consumed (kcal/person/day)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_calories"],1,0);
    addTableRows (tdata);

    deleteRows(); // no additional graphs for second section
  }
  // ----------------------------------------------------------------------------------------
  // Quantity of meat
  // ----------------------------------------------------------------------------------------
  else if (leverID == 34) {

/*
    x["g_1pager_meat_consumption"] 	= r ("g_1pager_meat_consumption");
*/

    initLineGraphForCompareValues ('main-graph', 'Global average meat consumption per person', 
                  'kcal/person/day', 0, 400, 50, leverGraphData["g_1pager_meat_consumption"]);

    var tdata = [];
    tdata[0] = getDataRow ("Global average meat calories consumed (kcal/person/day)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_meat_consumption"],1,0);
    addTableRows (tdata);


    deleteRows(); // no additional graphs for second section
  }
  // ----------------------------------------------------------------------------------------
  // Type of meat
  // ----------------------------------------------------------------------------------------
  else if (leverID == 35) {

/*
    x["g_1pager_meat_type_total_ruminant"]	= r("g_1pager_meat_type_total_ruminant");
    x["g_1pager_meat_type_total_nonruminant"]	= r("g_1pager_meat_type_total_nonruminant");
*/

    initLineGraphForCompareValues2 ('main-graph', 'Global average proportion of meat energy consumed that is from ruminant animals', 
                  '% of total meat energy consumed', 0, 55, 5, leverGraphData["g_1pager_meat_type_total_ruminant"], 100);

    var tdata = [];
    tdata[0] = getDataRow ("Total % of meat energy consumed that is from all ruminants animals", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_meat_type_total_ruminant"], 100,1);
    tdata[1] = getDataRow ("Total % of meat energy consumed that is from all non-ruminants animals",  
     [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_meat_type_total_nonruminant"], 100,1);
    addTableRows (tdata);

    deleteRows(); // no additional graphs for second section
  }

  // ----------------------------------------------------------------------------------------
  // Crop yields --> CHECK: UNITS STRANGE IN EXCEL
  // ----------------------------------------------------------------------------------------
  else if (leverID == 36) {

/*
    x["g_1pager_percent_increase_crop_yields2"]	= r("g_1pager_percent_increase_crop_yields2");
    x["g_1pager_crop_yieldswm2"]		= r("g_1pager_crop_yieldswm2");
*/

   initLineGraph ('main-graph', 'Global average food crop yields', 
                   '% of 2011 global average crop yield', 0, 220, 20, leverGraphData["g_1pager_percent_increase_crop_yields2"], 100);


    var tdata = [];
    tdata[0] = getDataRow ("Global average crop yield increase (% of 2011 yield)", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_percent_increase_crop_yields2"], 100);
    tdata[1] = getDataRow ("Global average yield of food energy harvested from food crops (W/m2)",  
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_crop_yieldswm2"], 1,2);
    addTableRows (tdata);

   createContainer(['container_1']);
   initLineGraph ('container_1', 'Global average yield of food energy harvested from food crops',  
                  'Watts per square meter', 0, 0.2, 0.02, leverGraphData["g_1pager_crop_yieldswm2"], 1);
  }
  // ----------------------------------------------------------------------------------------
  // Land-use efficiency
  // ----------------------------------------------------------------------------------------
  else if (leverID == 37) {

/*
    x["g_1pager_land_synergies"] 		= r ("g_1pager_land_synergies");
*/

    initLineGraph ('main-graph', 'Global average % of land required to provide your selected food and bioenergy scenario (including selected yields and consumption), in comparison to 2011, as a result of further land integration.', 
                  '% of land, in comparison to 2011', 0, 120, 10, leverGraphData["g_1pager_land_synergies"], 100,0);


    var tdata = [];
    tdata[0] = getDataRow ("Global average % of land required to provide your selected food and bioenergy scenario (including selected yields and consumption), in comparison to 2011, as a result of further land integration.", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_land_synergies"], 100);

    addTableRows (tdata);

    deleteRows(); // no additional graphs for second section
  }
  // ----------------------------------------------------------------------------------------
  // Livestock (grains/residues fed)
  // ----------------------------------------------------------------------------------------
  else if (leverID == 38) {

/*

    x["g_1pager_feed_conversion_all"]				= r("g_1pager_feed_conversion_all");
    x["g_1pager_animals_intensification_cows"]			= r("g_1pager_animals_intensification_cows");
    x["g_1pager_animals_intensification_sheep_and_goats"]	= r("g_1pager_animals_intensification_sheep_and_goats");

*/

    

    initLineGraphForCompareValues2 ('main-graph', 'Global average percent of cows and other bovine meat that is from animals in confined systems.', 
                  '% of all cow and other bovine meat', 0, 30, 2.5, 
                   reverseCompareValueRows (leverGraphData["g_1pager_animals_intensification_cows"]), 100);


    var tdata = [];
    tdata[0] = getDataRow ("Global average % of cows and other bovine meat from animals in confined systems.", 
     [2,2,3,4,5], [9,17,17,17,17], reverseCompareValueRows (leverGraphData["g_1pager_animals_intensification_cows"]), 100,1);
    tdata[1] = getDataRow ("Global average proportion of sheep and goat meat from animals in confined systems.",  
     [2,2,3,4,5], [9,17,17,17,17], reverseCompareValueRows (leverGraphData["g_1pager_animals_intensification_sheep_and_goats"]), 100,1);
    tdata[2] = getDataRow ("Feed conversion efficiency of cows and other bovines in confined systems (% of biomass input energy converted to meat energy)",  
     [1,2,3,4,5], [3,3,3,3,3], leverGraphData["g_1pager_feed_conversion_all"], 100,1);
    tdata[3] = getDataRow ("Feed conversion efficiency of sheep and goats in confined systems (% of biomass input energy converted to meat energy)",  
     [1,2,3,4,5], [6,6,6,6,6], leverGraphData["g_1pager_feed_conversion_all"], 100,1);
    tdata[4] = getDataRow ("Feed conversion efficiency of poultry in confined systems (% of biomass input energy converted to meat energy)",  
     [1,2,3,4,5], [4,4,4,4,4], leverGraphData["g_1pager_feed_conversion_all"], 100,1);
    tdata[5] = getDataRow ("Feed conversion efficiency of pigs in confined systems (% of biomass input energy converted to meat energy)",  
     [1,2,3,4,5], [5,5,5,5,5], leverGraphData["g_1pager_feed_conversion_all"], 100,1);
    tdata[6] = getDataRow ("Feed conversion efficiency of milk from cows produced in confined systems (% of biomass input energy converted to milk energy)",  
     [1,2,3,4,5], [9,9,9,9,9], leverGraphData["g_1pager_feed_conversion_all"], 100,1);
    tdata[7] = getDataRow ("Feed conversion efficiency of eggs from confined systems (% of biomass input energy converted to egg energy)",  
     [1,2,3,4,5], [8,8,8,8,8], leverGraphData["g_1pager_feed_conversion_all"], 100,1);

    addTableRows (tdata);




    createContainer(['container_1','container_2']);
    initLineGraphForCompareValues2 ('container_1', 'Global average percent of sheep and goat meat that is from animals in confined systems.',
                   '% of all sheep and goat meat', 0, 11, 1, 
                   reverseCompareValueRows (leverGraphData["g_1pager_animals_intensification_sheep_and_goats"]), 100);
    // --------------------------------------------------------------------------------------------------------------
    // need to get rid of first 2 columns for compatibility 
    // --------------------------------------------------------------------------------------------------------------
    var data = [];
    for (var i=0; i<leverGraphData["g_1pager_feed_conversion_all"].length; i++)
      data[i] = leverGraphData["g_1pager_feed_conversion_all"][i].slice(2);

    initColumnChart ('container_2', 'Feed conversion efficiency of animals produced in confined systems', 
                     '% of biomass input energy converted to meat energy', 0, 35, 5, 
                     data, 100);

  }
  // ----------------------------------------------------------------------------------------
  // Livestock (pasture fed)
  // ----------------------------------------------------------------------------------------
  else if (leverID == 39) {

/*
    x["g_1pager_animals_non_intensive_cowsperha"]	= r("g_1pager_animals_non_intensive_cowsperha");
    x["g_1pager_animals_non_intensive_sheepperha"]	= r("g_1pager_animals_non_intensive_sheepperha");
    x["g_1pager_feed_conversion_nonintensive_cows"]	= r("g_1pager_feed_conversion_nonintensive_cows");
    x["g_1pager_feed_conversion_nonintensive_sheep_and_goats"]	= r("g_1pager_feed_conversion_nonintensive_sheep_and_goats");

*/

    initLineGraph ('main-graph', 'Number of cows and other bovine per hectare of pasture (for pasture that is used for grazing cows and other bovine only)', 
                  'Number of animals per hectare', 0, 1.2, 0.1, leverGraphData["g_1pager_animals_non_intensive_cowsperha"], 1);

    var tdata = [];
    tdata[0] = getDataRow ("Global average number of cows and other bovine per hectare of pasture", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_animals_non_intensive_cowsperha"], 1,1);
    tdata[1] = getDataRow ("Global average number of sheep and goats per hectare of pasture",  
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_animals_non_intensive_sheepperha"], 1,1);
    tdata[2] = getDataRow ("Feed conversion efficiency of pasture fed beef cows and other bovine (% of biomass input energy converted to meat energy)",  
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_feed_conversion_nonintensive_cows"], 100,1);
    tdata[3] = getDataRow ("Feed conversion efficiency of pasture fed sheep and goats (% of biomass input energy converted to meat energy)",  
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_feed_conversion_nonintensive_sheep_and_goats"], 100,1);
    addTableRows (tdata);


    createContainer(['container_1', 'container_2', 'container_3']);
    initLineGraph ('container_1', 'Number of sheep and goat per hectare of pasture (for pasture that is used for grazing sheep and goat only)',         
                   'Number of animals per hectare', 0, 6, 0.5, 
                   leverGraphData["g_1pager_animals_non_intensive_sheepperha"], 1);
    initLineGraph ('container_2', 'Feed conversion efficiency of pasture fed cows and other bovine',         
                   '% of biomass input energy converted to meat energy', 0, 3, 0.5, 
                   leverGraphData["g_1pager_feed_conversion_nonintensive_cows"], 100);
    initLineGraph ('container_3', 'Feed conversion efficiency of pasture fed sheep and goats',         
                   '% of biomass input energy converted to meat energy', 0, 3, 0.5,
                   leverGraphData["g_1pager_feed_conversion_nonintensive_sheep_and_goats"], 100);
  }


  // ----------------------------------------------------------------------------------------
  // Bioenergy yields
  // ----------------------------------------------------------------------------------------
  else if (leverID == 40) {

/*
    x["g_1pager_bioenergy_yield"] 		= r("g_1pager_bioenergy_yield");
    x["g_1pager_bioenergy_wm2"]			= r("g_1pager_bioenergy_wm2");
    x["g_1pager_bioenergy_yield_dryt"]		= r("g_1pager_bioenergy_yield_dryt");
*/

   initLineGraphForCompareValues ('main-graph', 'Global average energy crop yield', 
      'Watts per square meter', 0, 1.2, 0.1, reverseCompareValueRows(leverGraphData["g_1pager_bioenergy_wm2"]));

    var tdata = [];
    tdata[0] = getDataRow ("Global average % increase in energy crop yield, compared to 2011", 
     [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_bioenergy_yield"], 100,0);
    tdata[1] = getDataRow ("Global average energy crop yield (W per square meter)",  
     [2,2,3,4,5], [9,17,17,17,17], reverseCompareValueRows(leverGraphData["g_1pager_bioenergy_wm2"]), 1,2);
    tdata[2] = getDataRow ("Global average energy crop mass yield, if energy crop in the form of woody energy crops (assuming LHV of 18 MJ per kg)",  
     [2,2,3,4,5], [9,17,17,17,17], reverseCompareValueRows(leverGraphData["g_1pager_bioenergy_yield_dryt"]), 1,0);
    addTableRows (tdata);

    createContainer(['container_1']);
    initLineGraphForCompareValues ('container_1', 
      'Global average energy crop mass yield, if energy crop in the form of woody energy crops (assuming LHV of 18 MJ per dry kg)',  
      'oven dry tonnes/hectare/year', 0, 25, 2.5, reverseCompareValueRows(leverGraphData["g_1pager_bioenergy_yield_dryt"]));
  }
  // ----------------------------------------------------------------------------------------
  // Type of biocrop
  // ----------------------------------------------------------------------------------------
  else if (leverID == 41) {

/*
    x["g_1pager_bioenergy_proportion_liquid"]	= r("g_1pager_bioenergy_proportion_liquid");
    x["g_1pager_bioenergy_proportion_solid"]	= r("g_1pager_bioenergy_proportion_solid");
*/

    initLineGraph ('main-graph', 'Global average percent of bioenergy content that is in liquid form', 
                  '% of total energy crop output in liquid biofuel form', 0, 90, 10, leverGraphData["g_1pager_bioenergy_proportion_liquid"], 100);

    var tdata = [];
    tdata[0] = getDataRow ("Global average % of total bioenergy as liquid", [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_bioenergy_proportion_liquid"], 100,0);
    tdata[1] = getDataRow ("Global average % of total bioenergy as solid",  [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_bioenergy_proportion_solid"], 100,0);
    addTableRows (tdata);


    deleteRows(); // no additional graphs for second section
  }
  // ----------------------------------------------------------------------------------------
  // Surplus land (forest & bioenergy)
  // ----------------------------------------------------------------------------------------
  else if (leverID == 42) {

/*
    x["g_1pager_landuse_all"] 			= r ("g_1pager_landuse_all");
*/


    initStackedColumnChart ('main-graph', 'Use of surplus land (farmland/pasture no longer required for food production).', 
      '% of surplus land in 2050 (if any)', 0, 100, 10, leverGraphData["g_1pager_landuse_all"], 100);

    var d4 = leverGraphData["g_1pager_landuse_all"];

    var tdata = [
      [translate ("% of surplus land allocated to forest"), 
       translate ('baseline'), roundValue0(d4[2][1]*100), roundValue0(d4[3][1]*100), roundValue0(d4[4][1]*100), roundValue0(d4[5][1]*100)],
      [translate ("% of surplus land allocated to grassland"), 
       translate ('baseline'), roundValue0(d4[2][3]*100), roundValue0(d4[3][3]*100), roundValue0(d4[4][3]*100), roundValue0(d4[5][3]*100)],
      [translate ("% of surplus land allocated to bioenergy crops"), 
       translate ('baseline'), roundValue0(d4[2][2]*100), roundValue0(d4[3][2]*100), roundValue0(d4[4][2]*100), roundValue0(d4[5][2]*100)]
    ];
    addTableRows (tdata);

    document.getElementById('table-footnote').innerHTML = translate("Please note: the maximum rate of establishment of bioenergy crop plantations is taken to be 12 million hectares per year");




    deleteRows(); // no additional graphs for second section
  }

  // ----------------------------------------------------------------------------------------
  // Wastes and residues
  // ----------------------------------------------------------------------------------------
  else if (leverID == 48) {

/*
    x["g_1pager_percent_post_farm_waste_crops"]	= r("g_1pager_percent_post_farm_waste_crops");
    x["g_1pager_percent_on_farm_waste"] 	= r ("g_1pager_percent_on_farm_waste");
    x["g_1pager_food_waste_post_farm"] 		= r ("g_1pager_food_waste_post_farm"); 
    x["g_1pager_percent_post_farm_waste"] 	= r ("g_1pager_percent_post_farm_waste");
*/

    initLineGraph ('main-graph', 'Percent of harvested crop energy content that is wasted along the food value chain (between the farm and consumption)', 
                  '% of harvested crop energy content wasted', 0, 25, 2.5, leverGraphData["g_1pager_percent_post_farm_waste_crops"], 100);
    var tdata = [];
    tdata[0] = getDataRow ("% of on-farm crop residues that are collected for energy generation", 
                 [2,2,3,4,5], [9,17,17,17,17], leverGraphData["g_1pager_percent_on_farm_waste"], 100,1);
    tdata[1] = getDataRow ("% of harvested crop energy content that is wasted along the food value chain (between the farm and consumption)", 
                 [2,2,3,4,5], [9,17,17,17,17],leverGraphData["g_1pager_percent_post_farm_waste_crops"], 100,1);
    tdata[2] = getDataRow ("% of meat energy content that is wasted along the food value chain (between the farm and consumption)", 
                 [1,2,3,4,5], [2,2,2,2,2],leverGraphData["g_1pager_food_waste_post_farm"], 100,1);
    tdata[3] = getDataRow ("% of energy from wasted harvested crops collected or bioenergy", 
                 [1,2,3,4,5], [1,1,1,1,1], leverGraphData["g_1pager_percent_post_farm_waste"], 100,1);
    tdata[4] = getDataRow ("% of energy from wasted meat collected or bioenergy", 
                 [1,2,3,4,5], [2,2,2,2,2], leverGraphData["g_1pager_percent_post_farm_waste"], 100,1);
    tdata[5] = getDataRow ("% of energy from wasted dairy products collected or bioenergy", 
                 [1,2,3,4,5], [8,8,8,8,8], leverGraphData["g_1pager_percent_post_farm_waste"], 100,1);

    addTableRows (tdata);


    createContainer(['container_1','container_2', 'container_3']);
    initLineGraph ('container_1', 'Percent of on-farm crop residues that are collected for energy generation',
      '% of crop residue energy content that is collected for bioenergy', 0, 50, 5,   
      leverGraphData["g_1pager_percent_on_farm_waste"], 100);
    initColumnChart ('container_2', 'Percent of food that is wasted along the food value chain (between the farm and consumption)', 
      '% of food energy content wasted', 0, 30, 2.5, 
      leverGraphData["g_1pager_food_waste_post_farm"], 100);
    initColumnChart ('container_3', 'Percent of food waste that is collected for energy generation',
      '% of food waste energy content', 0, 30, 2.5, 
      leverGraphData["g_1pager_percent_post_farm_waste"], 100);
      // '% of food waste energy content that is collected for bioenergy'
  }

  // ----------------------------------------------------------------------------------------
  // Emissions trajectory
  // ----------------------------------------------------------------------------------------
  else if (leverID == 49) {

/*
    x["g_1pager_post2050_emissions"] 		= r ("g_1pager_post2050_emissions");
*/

    createContainer(['container_1']);
    initStackedColumnChartWithout2011 ('main-graph', 
     'Multiplication factor of trend in emissions from previous 15 years, used to determine the trajectory in emissions between 2050 and 2100', 
     '%', 0, 120, 10, leverGraphData["g_1pager_post2050_emissions"], 100);

    var d = leverGraphData["g_1pager_post2050_emissions"];
    var tdata = [
      [translate ("Multiplication factor of trend in emissions from previous 15 years, used to determine the trajectory in emissions between 2050 and 2100"), 
       "n/a", d[2][1]*100, d[3][1]*100, d[4][1]*100, d[5][1]*100]
    ];
    addTableRows (tdata);

    deleteRows(); // no additional graphs for second section

  }

  // ----------------------------------------------------------------------------------------
  // Atmospheric CO2 fraction
  // ----------------------------------------------------------------------------------------
  else if (leverID == 50) {

/*


*/

    deleteRows(); // no additional graphs for second section
  }
  // ----------------------------------------------------------------------------------------
  // Confidence in climate models
  // ----------------------------------------------------------------------------------------
  else if (leverID == 51) {

/*
*/

    deleteRows(); // no additional graphs for second section
  }



} // end createGraphs ()


function addTableRows (strs) {

  for (var row=0; row<strs.length; row++) {

//alert (row + ": " + strs[row]);

    for (var i=0; i<strs[row].length; i++) {
      if (i==0) document.getElementById(row +"-" + i).innerHTML = "<b>" + strs[row][i] + "</b>";
      else      document.getElementById(row +"-" + i).innerHTML = strs[row][i];
    }
  }

  var tbl = document.getElementById('main-table'); // table reference
  var lastRow = tbl.rows.length - 1;             // set the last row index
  for (var i = lastRow; i > strs.length; i--) {
    tbl.deleteRow(i);
  }

}



function getDataRow (label, rowIDs, colIDs, data, scaleFactor, roundPrecision) {

  if (roundPrecision==0)
    return [translate(label), 
            roundValue0(data[ rowIDs[0] ][ colIDs[0] ]*scaleFactor), 
            roundValue0(data[ rowIDs[1] ][ colIDs[1] ]*scaleFactor), 
            roundValue0(data[ rowIDs[2] ][ colIDs[2] ]*scaleFactor), 
            roundValue0(data[ rowIDs[3] ][ colIDs[3] ]*scaleFactor), 
            roundValue0(data[ rowIDs[4] ][ colIDs[4] ]*scaleFactor)];

  else if (roundPrecision==1)
    return [translate(label), 
            roundValue1(data[ rowIDs[0] ][ colIDs[0] ]*scaleFactor), 
            roundValue1(data[ rowIDs[1] ][ colIDs[1] ]*scaleFactor), 
            roundValue1(data[ rowIDs[2] ][ colIDs[2] ]*scaleFactor), 
            roundValue1(data[ rowIDs[3] ][ colIDs[3] ]*scaleFactor), 
            roundValue1(data[ rowIDs[4] ][ colIDs[4] ]*scaleFactor)];

  else 
    return [translate(label), 
            roundValue2(data[ rowIDs[0] ][ colIDs[0] ]*scaleFactor), 
            roundValue2(data[ rowIDs[1] ][ colIDs[1] ]*scaleFactor), 
            roundValue2(data[ rowIDs[2] ][ colIDs[2] ]*scaleFactor), 
            roundValue2(data[ rowIDs[3] ][ colIDs[3] ]*scaleFactor), 
            roundValue2(data[ rowIDs[4] ][ colIDs[4] ]*scaleFactor)];
}

</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48107201-1', 'pik-potsdam.de');
  ga('send', 'pageview');
</script>

</head>

<body>

<table border="0" align="center" style="margin-top:40px">


<tr>
<td colspan="3" align="right"><small><span class='translate'>The Global Calculator</span></small>
<tr>
<td colspan="3">
<hr size="1" color="lightgray" noshade="noshade">

<div id="title"><h1>Lever ...</h1></div>

<hr size="1" color="lightgray" noshade="noshade">


<tr>
<td colspan="3" valign="top">

<div id="lever-controls">...</div>
<tr>
<td colspan="3">
<hr size="1" color="lightgray" noshade="noshade">
<tr>
<td colspan="3" align="center" valign="center">

  <table border=0 id = "main-lever-graph-table" align="center">
  <tr>
  <td rowspan="2" align="center" valign="top" width="500" height="300"><div id="main-graph">... graph and table will go here ...</div>
  <td rowspan="2" width="30px">  
  <td align="center" valign="center" width="400" height="300">

  <table border=1 id = "main-table" align="center" style="border-collapse: collapse;    border: 1px solid #98bf21;">
  <tr>
  <td>  
  <td align="center" valign="center"><b>2011</b>
  <td nowrap align="center" valign="center"><b>2050<br><span class="translate">Level 1</span></b>
  <td nowrap align="center" valign="center"><b>2050<br><span class="translate">Level 2</span></b>
  <td nowrap align="center" valign="center"><b>2050<br><span class="translate">Level 3</span></b>
  <td nowrap align="center" valign="center"><b>2050<br><span class="translate">Level 4</span></b>

  <tr><td id="0-0" width="300px"><td id="0-1"  align="right"><td id="0-2"  align="right"><td id="0-3"  align="right"><td id="0-4"  align="right"><td id="0-5"  align="right">
  <tr><td id="1-0"><td id="1-1"  align="right"><td id="1-2"  align="right"><td id="1-3"  align="right"><td id="1-4"  align="right"><td id="1-5"  align="right">
  <tr><td id="2-0"><td id="2-1"  align="right"><td id="2-2"  align="right"><td id="2-3"  align="right"><td id="2-4"  align="right"><td id="2-5"  align="right">
  <tr><td id="3-0"><td id="3-1"  align="right"><td id="3-2"  align="right"><td id="3-3"  align="right"><td id="3-4"  align="right"><td id="3-5"  align="right">
  <tr><td id="4-0"><td id="4-1"  align="right"><td id="4-2"  align="right"><td id="4-3"  align="right"><td id="4-4"  align="right"><td id="4-5"  align="right">
  <tr><td id="5-0"><td id="5-1"  align="right"><td id="5-2"  align="right"><td id="5-3"  align="right"><td id="5-4"  align="right"><td id="5-5"  align="right">
  <tr><td id="6-0"><td id="6-1"  align="right"><td id="6-2"  align="right"><td id="6-3"  align="right"><td id="6-4"  align="right"><td id="6-5"  align="right">
  <tr><td id="7-0"><td id="7-1"  align="right"><td id="7-2"  align="right"><td id="7-3"  align="right"><td id="7-4"  align="right"><td id="7-5"  align="right">
  <tr><td id="8-0"><td id="8-1"  align="right"><td id="8-2"  align="right"><td id="8-3"  align="right"><td id="8-4"  align="right"><td id="8-5"  align="right">
  <tr><td id="9-0"><td id="9-1"  align="right"><td id="9-2"  align="right"><td id="9-3"  align="right"><td id="9-4"  align="right"><td id="9-5"  align="right">
  <tr><td id="10-0"><td id="10-1" align="right"><td id="10-2" align="right"><td id="10-3" align="right"><td id="10-4" align="right"><td id="10-5" align="right">
  <tr><td id="11-0"><td id="11-1" align="right"><td id="11-2" align="right"><td id="11-3" align="right"><td id="11-4" align="right"><td id="11-5" align="right">
  <tr><td id="12-0"><td id="12-1" align="right"><td id="12-2" align="right"><td id="12-3" align="right"><td id="12-4" align="right"><td id="12-5" align="right">
  <tr><td id="13-0"><td id="13-1" align="right"><td id="13-2" align="right"><td id="13-3" align="right"><td id="13-4" align="right"><td id="13-5" align="right">
  <tr><td id="14-0"><td id="14-1" align="right"><td id="14-2" align="right"><td id="14-3" align="right"><td id="14-4" align="right"><td id="14-5" align="right">
  <tr><td id="15-0"><td id="15-1" align="right"><td id="15-2" align="right"><td id="15-3" align="right"><td id="15-4" align="right"><td id="15-5" align="right">
  </table>

  <tr><td valign="top" id="table-footnote">

  </table>

<tr>
<td colspan="3">
<hr size="1" color="lightgray" noshade="noshade">

<h2 id="context-header" class='translate'>Context</h2>
<div id="context">...</div>
<br><br>
<tr>
<td colspan="3">

<h2 id="things-to-consider-header" class='translate'>Things to consider</h2>
<div id="things-to-consider">...</div>

<tr>
<td colspan="3">
<hr size="1" color="lightgray" noshade="noshade">
<tr>
<td colspan="3" align="center" valign="center">

  <table border=0 id = "lever-graph-table" align="center">
  <tr><td align="center" valign="center">... additional graphs will go here ...
  </table>

<tr>
<td colspan="3">
<hr size="1" color="lightgray" noshade="noshade">


<tr>
<td width=400 valign="top">

<h2 id="level-1-header" class='translate'>Level 1</h2>
<div id="level-1">...</div>

<br><br>

<h2 id="level-2-header" class='translate'>Level 2</h2>
<div id="level-2">...</div>


<td width=20>

<td width=400 valign="top">

<h2 id="level-3-header" class='translate'>Level 3</h2>
<div id="level-3">...</div>

<br><br>

<h2 id="level-4-header" class='translate'>Level 4</h2>
<div id="level-4">...</div>


<tr>
<td colspan="3" valign="top" height="20px">
<tr>
<td colspan="3" valign="top">

<h2 id="references-header" class='translate'>References</h2>
<div id="references">...</div>
<tr>
<td colspan="3">
<hr size="1" color="lightgray" noshade="noshade">

</table>

</body>

</html>


